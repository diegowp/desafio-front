{"version":3,"sources":["main.js"],"names":["jQuery","document","ready","$","general_funcs","combo_cities","estados","cidades","ajax","url","type","dataType","success","data","each","index","val","append","change","event","city","empty","getCityInfo","city_selected","requestCityInfo","query","count","show","html","hide","response","results","channel","clima","title","convertToCelsius","wind","chill","direction","convertToKm","speed","atmosphere","humidity","visibility","i","item","forecast","date","day","high","low","text","assignFields","weekend","createChart","error","addClass","weekDetail","semanaList","this","weatherCases","sat","sunday","showMessage","label","splitDay","console","log","split","labels","temps","ctx","getElementById","datasets","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","spanGaps","Chart","defaults","global","responsive","options","scales","yAxes","ticks","beginAtZero","setFavorite","click","preventDefault","getLocalStorage","deleteLocalStorage","removeClass","setLocalStorage","defaultValues","favorito","temp","toFixed","localStorage","setItem","getItem","removeItem","init"],"mappings":"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","file":"main.min.js","sourcesContent":["jQuery(document).ready(function($) {\t\r\n\r\n\tvar general_funcs = {\r\n\r\n\t\tcombo_cities: function(){\r\n\r\n\t\t\tvar estados = $(\"#estados\");\r\n\t\t\tvar cidades = $(\"#cidades\");\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'js/estados_cidades.json',\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tsuccess: function( data ){\r\n\t\t\t\t\t\r\n\t\t\t\t\t$.each( data, function( index, val ) {\r\n\t\t\t\t\t\t$(\"optgroup\", estados).append('<option value=\"'+val[\"nome\"]+'\">'+val[\"nome\"]+'</option>');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\testados.change(function(event) {\r\n\t\t\t\t\t\tvar city = $(\"option:selected\", estados).val();\r\n\r\n\t\t\t\t\t\tcidades.empty();\r\n\r\n\t\t\t\t\t\tcidades.append('<option value=\". . .\">. . .</option>');\r\n\r\n\t\t\t\t\t\t$.each( data, function( index, val ) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif( city == val['nome'] ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t$.each( val[\"cidades\"], function( index, val ) {\r\n\t\t\t\t\t\t\t\t\tcidades.append('<option value=\"'+val+'\">'+val+'</option>');\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tgetCityInfo: function(){\r\n\r\n\t\t\tvar city = $(\"#cidades\");\r\n\r\n\t\t\tcity.change(function(event) {\r\n\t\t\t\t\r\n\t\t\t\tvar city_selected = $(\"option:selected\", city).val();\r\n\t\t\t\tgeneral_funcs.requestCityInfo( city_selected );\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\trequestCityInfo: function( city_selected ){\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: 'json_api/'+city_selected+'.json',\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tsuccess: function( data ){\r\n\r\n\t\t\t\t\tif( data.query.count == 0 ){\r\n\t\t\t\t\t\t$(\"span#messages\").show();\r\n\t\t\t\t\t\t$(\"#messages\").html(\"Não foi possível recuperar as informações sobre a região!\");\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t$(\"span#messages\").hide();\r\n\t\t\t\t\t\t$(\".for-weekend-wrapper p\").html(\"\");\r\n\t\t\t\t\t\tvar response = data.query.results.channel;\r\n\r\n\t\t\t\t\t\tvar clima = [];\r\n\r\n\t\t\t\t\t\tclima['title'] = response.title\r\n\r\n\t\t\t\t\t\tclima['chill'] = general_funcs.convertToCelsius( response.wind.chill );\r\n\t\t\t\t\t\tclima['direction'] = response.wind.direction;\r\n\t\t\t\t\t\tclima['speed'] = general_funcs.convertToKm( response.wind.speed );\r\n\r\n\t\t\t\t\t\tclima['humidity'] = response.atmosphere.humidity;\r\n\t\t\t\t\t\tclima['visibility'] = general_funcs.convertToKm( response.atmosphere.visibility );\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i <= 7; i++) {\r\n\t\t\t\t\t\t\tclima['dias '+i] = [\r\n\t\t\t\t\t\t\t\tresponse.item.forecast[i].date,\r\n\t\t\t\t\t\t\t\tresponse.item.forecast[i].day,\r\n\t\t\t\t\t\t\t\tgeneral_funcs.convertToCelsius( response.item.forecast[i].high ),\r\n\t\t\t\t\t\t\t\tgeneral_funcs.convertToCelsius( response.item.forecast[i].low ),\r\n\t\t\t\t\t\t\t\tresponse.item.forecast[i].text\r\n\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tgeneral_funcs.assignFields( clima );\r\n\t\t\t\t\t\tgeneral_funcs.weekend( clima );\r\n\t\t\t\t\t\tgeneral_funcs.createChart( clima );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(){\r\n\t\t\t\t\t$(\"#messages\").html(\"Ops, ocorreu um erro inesperado! Não foi possível recuperar as informações sobre essa cidade.\");\r\n\t\t\t\t\t$(\"#messages\").addClass('show');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tassignFields: function( clima ){\r\n\r\n\t\t\t// Limpa os campos\r\n\t\t\t$(\".cls\").html(\"\");\r\n\r\n\t\t\t$(\".local\").html( clima['title'] );\r\n\t\t\t$(\".data\").html( clima['dias 1'][0] );\r\n\t\t\t$(\".situacao\").html( clima['dias 1'][4] + \" - \" );\r\n\t\t\t$(\".clima-max\").html( \"Max: \" + clima['dias 1'][2] + \"ºc\" );\r\n\t\t\t$(\".clima-min\").html( \"Min: \" + clima['dias 1'][3] + \"ºc\" );\r\n\r\n\t\t\t$(\".vento-umidade\").html( \"Umidade do ar: \" + clima['humidity'] + \"%\" );\r\n\t\t\t$(\".vento-velocidade\").html( \"Velocidade do vento: \" + clima['speed'] + \" km/h\" );\r\n\t\t\t$(\".vento-visibilidade\").html( \"Visibilidade: \" + clima['visibility'] + \" km\");\r\n\r\n\t\t\t// Informações da semana\r\n\t\t\tvar weekDetail = $(\"#semana\");\r\n\t\t\tweekDetail.html('<ul class=\"semana-list\"></ul>');\r\n\t\t\tsemanaList = $(\".semana-list\", weekDetail);\r\n\r\n\t\t\tfor( var i = 0; i <= 7; i++  ){\r\n\t\t\t\tsemanaList.append('<li>'+clima[\"dias \"+i][1]+' <br/> Max: '+clima[\"dias \"+i][2]+'ºc <br/> Min: '+clima[\"dias \"+i][3]+'ºc </li>');\r\n\t\t\t}\r\n\r\n\t\t\tthis.weatherCases( clima['dias 1'] );\r\n\r\n\t\t},\r\n\r\n\t\tweekend: function( clima ){\r\n\r\n\t\t\tfor( var i = 0; i <= 7; i++  ){\r\n\r\n\t\t\t\tif( clima['dias '+i][1] == \"Sat\" ){\r\n\t\t\t\t\tvar sat = clima['dias '+i];\r\n\t\t\t\t}\r\n\t\t\t\tif( clima['dias '+i][1] == \"Sun\" ){\r\n\t\t\t\t\tvar sunday = clima['dias '+i];\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.weatherCases( sat );\r\n\t\t\tthis.weatherCases( sunday );\t\t\t\r\n\r\n\t\t},\r\n\r\n\t\tweatherCases: function( day ){\r\n\r\n\t\t\tvar showMessage = \"\",\r\n\t\t\t\tlabel = \"\",\r\n\t\t\t\tsplitDay = \"\";\r\n\r\n\t\t\tconsole.log( day );\r\n\r\n\t\t\tif( day[1] == \"Sat\" ){\r\n\t\t\t\tsplitDay = day[0].split(\" \");\r\n\t\t\t\tshowMessage = $(\".for-weekend-wrapper p\");\r\n\t\t\t\tlabel = \"Para esse Sabádo dia \" + splitDay[0] + \", teremos um dia \";\r\n\t\t\t}\r\n\t\t\telse if( day[1] == \"Sun\"){\r\n\t\t\t\tsplitDay = day[0].split(\" \");\r\n\t\t\t\tshowMessage = $(\".for-weekend-wrapper p\");\r\n\t\t\t\tlabel = \"Para esse Domingo dia \" + splitDay[0] + \", teremos um dia \";\r\n\t\t\t}\r\n\t\t\telse if( (day[1] !== 'Sat') && (day[1] !== 'Sun') ){\r\n\t\t\t\tshowMessage = $(\".situacao\");\r\n\t\t\t\tlabel = \"Hoje teremos um dia \";\r\n\t\t\t}\r\n\r\n\t\t\tswitch( day[4] ){\r\n\t\t\t\tcase \"Tropical Storm\":\r\n\t\t\t\t\ttext = \"com Tempestades tropicais. Não esqueça de sair acompanhando de um guarda-chuvas.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Thunderstorms\":\r\n\t\t\t\t\ttext = label + \"com Trovoadas. Evite a manipulação de equipamentos que conduzam eletricidade e procure um local seguro para se abrigar.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Drizzle\":\r\n\t\t\t\t\ttext = label + \"com Garoa. Talvez assistir um Netflix seja uma boa opção =)<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Hail\":\r\n\t\t\t\t\ttext = label + \"com Granizo. Grandes chances de chuvas de granizo, evite locais abertos e procure um lugar seguro para se abrigar.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Dust\":\r\n\t\t\t\t\ttext = label + \"com Tempo seco. Mantenha o corpo hidratado, e evite ficar muito tempo expoosto ao Sol.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Foggy\":\r\n\t\t\t\t\ttext = label + \"com Neblina. Muito cuidado nas estradas, neblina requer atenção dobrada.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Windy\":\r\n\t\t\t\t\ttext = label + \"com Ventania. Evite locais com muitas árvores. Caso seja pego de surpresa, procure um local seguro para se abrigar.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Cloudy\":\r\n\t\t\t\t\ttext = label + \"Nublado. Se for sair, talvez seja bom levar um guarda-chuvas =) <br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Cold\":\r\n\t\t\t\t\ttext = label + \"Frio. Hora de tirar o casaco do guard-roupas, Talvez um cinema ou uma boa bebida quente em casa seja uma opção =).<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Mostly Cloudy\":\r\n\t\t\t\t\ttext = label + \"Predominantemente nublado. Se for sair, talvez seja bom levar um guarda-chuvas =) <br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Partly Cloudy\":\r\n\t\t\t\t\ttext = label + \"Parcialmente nublado. O dia não será tão bonito, sair com um guarda-chuvas é boa idéia.<br/<br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Mixed Rain and Hail\":\r\n\t\t\t\t\ttext = label + \"com Chuva com granizo. Evite ficar em locais abertos.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Hot\":\r\n\t\t\t\t\ttext = label + \"Quente. Beba bastante água e evite a exposição ao Sol em excesso no período das 11h às 15h.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Sunny\":\r\n\t\t\t\t\ttext = label + \"Ensolarado. Beba bastante água e aproveite esse belo dia para conhecer os parques de sua cidade =)<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Isolated Thunderstorms\":\r\n\t\t\t\t\ttext = label + \"com Tempestades isoladas. Não esqueça de levar o seu guarda-chuvas.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Scattered Thunderstorms\":\r\n\t\t\t\t\ttext = label + \"com Tempestades dispersas. Não esqueça de levar o seu guarda-chuvas.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Scattered Showers\":\r\n\t\t\t\t\ttext = label + \"com Chuvas dispersas. Não esqueça de levar o seu guarda-chuvas.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Rain\":\r\n\t\t\t\t\ttext = label + \"com Tempestades dispersas. Não esqueça de levar o seu guarda-chuvas.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttext = \"Ops! Ocorreu algum erro inesperado.<br/><br/>\";\r\n\t\t\t\t\tshowMessage.append( text );\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tcreateChart: function( clima ){\r\n\r\n\t\t\tvar labels = [];\r\n\t\t\tvar temps = [];\r\n\t\t\tvar ctx = document.getElementById(\"chart\");\r\n\r\n\t\t\tfor (var i = 0; i <= 7; i++) {\r\n\t\t\t\tvar dia = clima['dias '+i][0].split(\" \");\r\n\t\t\t\t//labels[i] = clima['dias '+i][1] + ' || Max: ' +clima['dias '+i][2]+ '/ Min: ' +clima['dias '+i][3] ;\r\n\t\t\t\tlabels[i] = clima['dias '+i][1];\r\n\t\t\t\ttemps[i] = clima['dias '+i][2];\r\n\t\t\t};\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tlabels: labels,\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t            label: \"Previsão para a semana\",\r\n\t\t\t            fill: false,\r\n\t\t\t            lineTension: 0.1,\r\n\t\t\t            backgroundColor: \"rgba(75,192,192,0.4)\",\r\n\t\t\t            borderColor: \"rgba(75,192,192,1)\",\r\n\t\t\t            borderCapStyle: 'butt',\r\n\t\t\t            borderDash: [],\r\n\t\t\t            borderDashOffset: 0.0,\r\n\t\t\t            borderJoinStyle: 'miter',\r\n\t\t\t            pointBorderColor: \"rgba(75,192,192,1)\",\r\n\t\t\t            pointBackgroundColor: \"#fff\",\r\n\t\t\t            pointBorderWidth: 1,\r\n\t\t\t            pointHoverRadius: 5,\r\n\t\t\t            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n\t\t\t            pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n\t\t\t            pointHoverBorderWidth: 2,\r\n\t\t\t            pointRadius: 1,\r\n\t\t\t            pointHitRadius: 10,\r\n\t\t\t            data: temps,\r\n\t\t\t            spanGaps: false,\r\n\t\t\t        }\r\n\t\t\t\t]\r\n\t\t\t};\r\n\r\n\t\t\tChart.defaults.global.responsive = true;\r\n\t\t\tvar create = new Chart( ctx, {\r\n\t\t\t\ttype: 'line',\r\n\t\t\t\tdata: data,\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\tscales: {\r\n\t\t\t            yAxes: [{\r\n\t\t\t                ticks: {\r\n\t\t\t                    beginAtZero:true\r\n\t\t\t                }\r\n\t\t\t            }]\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\r\n\t\tsetFavorite: function(){\r\n\r\n\t\t\t$(\".favorito\").click(function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif( general_funcs.getLocalStorage() ){\r\n\r\n\t\t\t\t\tgeneral_funcs.deleteLocalStorage();\r\n\t\t\t\t\t$(\"i\", this).removeClass('fa-star');\r\n\t\t\t\t\t$(\"i\", this).addClass('fa-star-o');\t\t\t\t\t\r\n\r\n\t\t\t\t}else{\r\n\r\n\t\t\t\t\tvar city = $(\"#cidades\");\r\n\t\t\t\t\tvar city_selected = $(\"option:selected\", city).val();\r\n\r\n\t\t\t\t\tif( city_selected ){\r\n\t\t\t\t\t\t$(\"span#messages\").hide();\r\n\t\t\t\t\t\tgeneral_funcs.setLocalStorage( city_selected );\r\n\t\t\t\t\t\t$(\"i\", this).removeClass('fa-star-o');\r\n\t\t\t\t\t\t$(\"i\", this).addClass('fa-star');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$(\"span#messages\").html( \"Nenhuma cidade selecionada\" );\r\n\t\t\t\t\t\t$(\"span#messages\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t});\t\r\n\r\n\t\t},\r\n\r\n\t\tdefaultValues: function(){\r\n\r\n\t\t\tif( !this.getLocalStorage() ){\r\n\t\t\t\tthis.requestCityInfo( 'Blumenau' );\r\n\t\t\t\t$(\"#cidades\").append('<option value=\"Blumenau\">Blumenau</option>');\r\n\t\t\t}else{\r\n\t\t\t\tvar favorito = $(\".favorito\");\r\n\t\t\t\t$(\"i\", favorito).removeClass('fa-star-o');\r\n\t\t\t\t$(\"i\", favorito).addClass('fa-star');\r\n\t\t\t\t$(\"#cidades\").append('<option value=\"'+this.getLocalStorage()+'\">'+this.getLocalStorage()+'</option>');\r\n\t\t\t\tthis.requestCityInfo( this.getLocalStorage() );\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tconvertToCelsius: function( temp ){\r\n\t\t\tvar calc = ( temp - 32 ) / 1.8;\r\n\t\t\treturn calc.toFixed(0);\r\n\t\t},\r\n\r\n\t\tconvertToKm: function( speed ){\r\n\t\t\tvar calc = ( speed * 1.609 );\r\n\t\t\treturn calc.toFixed(2);\r\n\t\t},\r\n\r\n\t\tsetLocalStorage: function( city ){\r\n\t\t\treturn localStorage.setItem( \"cidade\", city );\r\n\t\t},\r\n\r\n\t\tgetLocalStorage: function(){\r\n\t\t\treturn localStorage.getItem(\"cidade\");\r\n\t\t},\r\n\r\n\t\tdeleteLocalStorage: function(){\r\n\t\t\treturn localStorage.removeItem(\"cidade\");\r\n\t\t},\r\n\r\n\t\tinit: function(){\r\n\t\t\tthis.combo_cities();\r\n\t\t\tthis.getCityInfo();\r\n\t\t\tthis.setFavorite();\r\n\t\t\tthis.defaultValues();\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tgeneral_funcs.init();\r\n\r\n});"]}